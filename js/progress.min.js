!(function (e, t) {
  "use strict";
  "function" == typeof define && define.amd
    ? define([], t)
    : "object" == typeof exports
    ? (module.exports = t())
    : (e.Progress = t());
})(this, function () {
  "use strict";
  var e,
    t,
    n,
    o = window,
    i = document,
    r = document.querySelector(".animated-circle"),
    s = document.querySelector(".progress-count");
  function c() {
    (e = o.innerHeight), (t = i.body.offsetHeight), (n = t - e);
  }
  function d() {
    var e, t;
    c(),
      (e = "scroll"),
      (t = i.createEvent("HTMLEvents")).initEvent(e, !0, !1),
      o.dispatchEvent(t);
  }
  return {
    init: function () {
      var t;
      c(),
        o.addEventListener(
          "scroll",
          function () {
            var e;
            (t = this.pageYOffset || i.documentElement.scrollTop),
              (t = Math.max(0, Math.min(1, t / n))),
              (e = t),
              (r.style.strokeDashoffset = 126 - 126 * e),
              (s.innerHTML = Math.round(100 * e) + "%");
          },
          !1
        ),
        ["DOMContentLoaded", "load", "resize"].map(function (e) {
          o.addEventListener(e, d, !1);
        });
    },
  };
});

// Function to check if the quiz is completed
function checkQuizCompletion() {
  // Your logic to determine if the quiz is completed
  // For example, you can check if all quiz questions are answered correctly.
  // Assuming the variable 'quizCompleted' is true when the quiz is completed.
  var quizCompleted = true;

  // Set the value of the hidden input field based on the quiz completion status
  document.getElementById("quizCompleted").value = quizCompleted ? "1" : "0";
}

// Add an event listener to the 'Next Chapter' link
var nextChapterLink = document.querySelector('a[name="next_chapter"]');
nextChapterLink.addEventListener("click", function (event) {
  // Check if the quiz is completed before proceeding to the next chapter
  checkQuizCompletion();

  // If the quiz is not completed, prevent the link from navigating to the next chapter
  if (document.getElementById("quizCompleted").value !== "1") {
    event.preventDefault();
    alert("Please complete the quiz before proceeding to the next chapter.");
  }
});
